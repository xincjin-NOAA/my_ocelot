bufr:
  variables:
    # MetaData Values
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"

    latitude:
      query: "[*/CLATH, */CLAT]"

    longitude:
      query: "[*/CLONH, */CLON]"

    # Observation Values
    airPressure:
      query: "*/PRES"  # Air pressure at station level
      type: float
      transforms:
        - scale: 0.01  # Convert from Pa to hPa

    airTemperature:
      query: "*/TMDB"  # Dry bulb temperature
      transforms:
        - offset: -273.15  # Convert from Kelvin to Celsius

    seaTemperature:
      query: "[*/SST1, */SEATEMPM/SST1, */IDMSMDBS/BBYSTSL{1}/SST1]"
      transforms:
        - offset: -273.15  # Convert from Kelvin to Celsius

    dewPointTemperature:
      query: "*/TMDP"
      transforms:
        - offset: -273.15  # Convert from Kelvin to Celsius

    relativeHumidity:
      query: "[*/REHU, */TMPSQ2/REHU]"

    windSpeed:
      query: "[*/WSPD, */WNDSQ4/WSPD]"

    windDirection:
      query: "[*/WDIR, */WNDSQ4/WDIR]"
      type: float

    height:
      query: "[*/SELV, */HSMSL, */HSAWS, */HSAWS[1]]"  # Height above ground level
      type: int

  encoder:
    variables:
      # MetaData
      - name: "time"
        source: variables/timestamp
        longName: "Datetime"
        units: "seconds since 1970-01-01T00:00:00Z"

      - name: "latitude"
        source: variables/latitude
        longName: "Latitude"
        units: "degree_north"
        range: [-90, 90]

      - name: "longitude"
        source: variables/longitude
        longName: "Longitude"
        units: "degree_east"
        range: [-180, 180]

      # Observation Values
      - name: "airPressure"
        source: variables/airPressure
        longName: "Air Pressure at Station Level"
        units: "hPa"

      - name: "airTemperature"
        source: variables/airTemperature
        longName: "Air Temperature at Station Level"
        units: "Celsius"

      - name: "dewPointTemperature"
        source: variables/dewPointTemperature
        longName: "Dew Point Temperature at Station Level"
        units: "Celsius"

      - name: "relativeHumidity"
        source: variables/relativeHumidity
        longName: "Relative Humidity at Station Level"
        units: "%"

      - name: "windSpeed"
        source: variables/windSpeed
        longName: "Wind Speed at Station Level"
        units: "m/s"

      - name: "windDirection"
        source: variables/windDirection
        longName: "Wind Direction at Station Level"
        units: "radians"

      - name: "height"
        source: variables/height
        longName: "Height Above Ground Level"
        units: "meters"
