bufr:
  variables:
    # MetaData
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"

    latitude:
      query: "*/CLATH"

    longitude:
      query: "*/CLONH"

    groundState:
      query: "*/SOGR"

    snowDepth:
      query: "*/TOSD"

    airTemperature:
      query: "*/TMDB"
      transforms:
        - offset: -273.15 # Convert from Kelvin to Celsius

    height:
      query: "*/HSMSL"

encoder:
  variables:
    # MetaData
    - name: "time"
      source: variables/timestamp
      longName: "Datetime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degrees_north"
      range: [ -90, 90 ]

    - name: "groundState"
      source: variables/groundState
      longName: "Ground State"
      description: "Type of ground cover (e.g., snow, ice, water, vegetation)"

    - name: "longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degrees_east"
      range: [ -180, 180 ]

    - name: "snowDepth"
      source: variables/snowDepth
      longName: "Snow Depth"
      units: "m"

    - name: "airTemperature"
      source: variables/airTemperature
      longName: "Air Temperature"
      units: "deg C"

    - name: "height"
      source: variables/height
      longName: "Height Of Station Above Mean Sea Level"
      units: "m"

    # - name: "snowDensity"
    #   source: variables/snowDensity
    #   longName: "Snow Density"
    #   units: "kg/m^3"

    # - name: "snowWaterEquivalent"
    #   source: variables/snowWaterEquivalent
    #   longName: "Snow Water Equivalent"
    #   units: "kg/m^2"
