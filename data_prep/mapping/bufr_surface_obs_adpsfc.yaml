bufr:
  variables:
    # MetaData Values
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"

    latitude:
      query: "[*/CLATH, */CLAT]"

    longitude:
      query: "[*/CLONH, */CLON]"

    # Observation Values
    airPressure_bufr:
      query: "[*/PRES, */PRLC]"  # Air pressure  missing from NC000007
      type: float
      transforms:
        - scale: 0.01  # Convert from Pa to hPa

    pressureMeanSeaLevel_bufr:
      query: "*/PMSL"
      type: float
      transforms:
        - scale: 0.01  # Convert from Pa to hPa

    airTemperature:
      query: "*/TMDB"  # Dry bulb temperature
      transforms:
        - offset: -273.15  # Convert from Kelvin to Celsius

    seaTemperature:
      query: "*/SST1"
      transforms:
        - offset: -273.15  # Convert from Kelvin to Celsius

    dewPointTemperature:
      query: "*/TMDP"
      transforms:
        - offset: -273.15  # Convert from Kelvin to Celsius

    relativeHumidity:
      query: "[*/REHU, */TMPSQ2/REHU]"

    windSpeed:
      query: "[*/WSPD]"

    windDirection:
      query: "[*/WDIR]"
      type: float

    height_bufr:
      query: "[*/SELV, */HSMSL]"  # Height above ground level

encoder:
  variables:
    # MetaData
    - name: "time"
      source: variables/timestamp
      longName: "Datetime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degree_north"
      range: [-90, 90]

    - name: "longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degree_east"
      range: [-180, 180]

    # Observation Values
    - name: "airPressure_bufr"
      source: variables/airPressure_bufr
      longName: "Air Pressure at Station Level"
      units: "hPa"

    - name: "pressureMeanSeaLevel_bufr"
      source: variables/pressureMeanSeaLevel_bufr
      longName: "Air Pressure Reduced to Mean Sea Level"
      units: "hPa"

    - name: "airTemperature"
      source: variables/airTemperature
      longName: "Air Temperature at Station Level"
      units: "Celsius"

    - name: "seaTemperature"
      source: variables/seaTemperature
      longName: "Sea Temperature"
      units: "Celsius"

    - name: "dewPointTemperature"
      source: variables/dewPointTemperature
      longName: "Dew Point Temperature at Station Level"
      units: "Celsius"

    - name: "relativeHumidity"
      source: variables/relativeHumidity
      longName: "Relative Humidity at Station Level"
      units: "%"

    - name: "windSpeed"
      source: variables/windSpeed
      longName: "Wind Speed at Station Level"
      units: "m/s"

    - name: "windDirection"
      source: variables/windDirection
      longName: "Wind Direction at Station Level"
      units: "radians"

    - name: "height_bufr"
      source: variables/height_bufr
      longName: "Height Above Ground Level"
      units: "meters"




